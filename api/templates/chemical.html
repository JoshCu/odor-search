<!DOCTYPE html>

<head>
    <title>Odor Search</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='bird.png') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

{% include 'nav.html' %}

<body class="search-gradient-custom">
    <div class="d-flex justify-content-center w-100">
        <div class="d-flex container rounded-3 teal-0 ms-2 mt-2 p-2">
            <div class="w-100">
                <h4 class="container pt-1">{{ chemical.name }}</h4>
                <hr>
                {% if chemical.IUPACName %}
                <b>IUPAC</b> {{ chemical.IUPACName }}
                <hr>
                {% endif %}
                <div class="d-flex container ms-auto">
                    <hr>
                    {% if chemical.CID %}
                    <div class="d-flex container p-1">
                        <b>CID : </b> {{ chemical.CID }}
                    </div>
                    {% endif %}
                    {% if chemical.CAS %}
                    <div class="d-flex container ms-auto p-1">
                        <b>CAS</b> {{ chemical.CAS }}
                    </div>
                    {% endif %}
                    {% if chemical.CID %}
                    <div class="d-flex flex-shrink-1 container p-1">
                        <a class="link-light"
                            href="https://pubchem.ncbi.nlm.nih.gov/compound/{{ chemical.CID }}">Pubchem</a>
                    </div>
                    {% endif %}
                    {% if chemical.TGSC_ID %}
                    <div class="d-flex flex-shrink-1 container p-1">
                        <a class="link-light"
                            href="http://www.thegoodscentscompany.com/data/rw{{ chemical.TGSC_ID[0] }}.html">Good
                            Scents</a>
                    </div>
                    {% endif %}

                </div>
                <hr>
                {% if chemical.all_names|length > 0 %}
                <div class="d-flex container ms-auto">
                    <div class="d-flex">Other names</div>
                    <div class="d-flex container ">
                        <ul class="list-group list-group-horizontal">
                            {% for name in chemical.all_names %}
                            <li class="list-group-item flex-fill">{{ name }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <hr>
                {% endif %}
            </div>

        </div>
        <div class="d-inline-flex rounded-3 teal-0 ms-2 me-2 mt-2 p-2">

            <div class="teal-1 rounded-3 p-1 ms-auto width-auto mask-result">
                <img style="" class="img-thumbnail"
                    src="https://pubchem.ncbi.nlm.nih.gov/image/imagefly.cgi?cid={{chemical.CID}}&width=300&height=300"
                    alt="{{ chemical.name}} structure">

                <p class="ms-auto">entries {{ chemical.Count }}</p>
            </div>

        </div>
    </div>
    <div class="d-flex container rounded-3 teal-0 ms-auto mt-2 p-2">
        <div class="d-flex flex-column justify-content-center w-100">
            {% if chemical.all_odor|length > 0 %}
            <div id="datasourceButtons">
                {% for datasource in chemical.all_odor %}
                {% if chemical.all_odor[datasource]|length > 0 %}
                <button class="btn btn-light ms-2 mb-2" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse{{ datasource }}" aria-expanded="false"
                    aria-controls="collapse{{ datasource }}">
                    {{ datasource }}
                    <span class="badge rounded-pill teal-3">
                        {{chemical.all_odor[datasource]|length}}
                        <span class="visually-hidden">{{ datasource }}</span>
                    </span>
                </button>
                {% endif %}
                {% endfor %}
            </div>
            <hr>
            {% endif %}
            {% if chemical.all_odor|length > 0 %}
            {% for datasource in chemical.all_odor %}
            {% if chemical.all_odor[datasource]|length > 0 %}
            <div class="collapse" id="collapse{{ datasource }}">
                <ul class="list-group">
                    <li class="list-group-item list-group-item-dark">{{ datasource }}</li>
                    {% for name in chemical.all_odor[datasource] %}
                    <li class="list-group-item">{{ name }}</li>
                    {% endfor %}
                </ul>
                <hr>
            </div>

            {% endif %}
            {% endfor %}
            {% endif %}
        </div>
    </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>