<!DOCTYPE html>

<head>
  <title>Odor Search</title>
  <link rel="shortcut icon" href="{{ url_for('static', filename='dog.png') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
  <img src="{{ url_for('static', filename='dog.png') }}" class="icon" />
  <h3>Search any word</h3>
  <form action="/" method="post">
    <input type="text" name="search_term" placeholder="search anything" required />
    <input type="submit" value="Search" />
  </form>
  {% if result %}
  <div class="d-flex flex-column justify-content-center w-100">
    {% for item in result %}
    <div class="d-flex container rounded-3 teal-0 ms-auto mt-2 p-2">
      <div class="w-100">
        <h4 class="container pt-1">{{ item.name }}</h4>
        <hr>

        {% if item.IUPACName %}
        <b>IUPAC</b> {{ item.IUPACName }}
        {% endif %}
        <div class="d-flex container ms-auto">
          <hr>
          {% if item.CID %}
          <div class="d-flex container p-1">
            <b>CID : </b> {{ item.CID }}
          </div>
          {% endif %}
          {% if item.CAS %}
          <div class="d-flex container ms-auto p-1">
            <b>CAS</b> {{ item.CAS }}
          </div>
          {% endif %}
          {% if item.CID %}
          <div class="d-flex flex-shrink-1 container p-1">
            <a href="https://pubchem.ncbi.nlm.nih.gov/compound/{{ item.CID }}">Pubchem</a>
          </div>
          {% endif %}
          {% if item.TGSC_ID %}
          <div class="d-flex flex-shrink-1 container p-1">
            <a href="http://www.thegoodscentscompany.com/data/rw{{ item.TGSC_ID[0] }}.html">Good Scents</a>
          </div>
          {% endif %}

        </div>
        <hr>
        {% if item.all_names|length > 1 %}
        <button class="btn btn-outline-primary ms-2 mb-2" type="button" data-bs-toggle="collapse"
          data-bs-target="#collapse{{ item.CID }}" aria-expanded="false" aria-controls="collapse{{ item.CID }}">
          Other names <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-arrow-down" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z" />
          </svg>
          <span class="badge rounded-pill teal-3">
            {{item.all_names|length}}
            <span class="visually-hidden">Other names</span>
          </span>
        </button>
        <div class="collapse" id="collapse{{ item.CID }}">
          <ul class="list-group">
            {% for name in item.all_names %}
            <li class="list-group-item">{{ name }}</li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}



      </div>
      <div class="flex-shrink-1 ms-1">
        <div class="teal-1 rounded-3 p-1 ms-auto width-auto">
          <img style="width: 100px;height: 100px;" class="img-thumbnail"
            src="https://pubchem.ncbi.nlm.nih.gov/image/imagefly.cgi?cid={{item.CID}}&width=100&height=100"
            alt="{{ item.name}} structure">

          <p class="ms-auto">entries {{ item.Count }}</p>
        </div>
      </div>
    </div>
    {% endfor %}

  </div>



  {% endif %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
</body>